%div{ style: "background:#ddd;padding:50px;" }
  .c-notifications-dropdown
    - if @unrevealed_badges.present?
      - if @unrevealed_badges.size == 1
        = link_to badges_journey_path, class: 'unrevealed-badge' do
          .c-badge-medallion{ class: "--#{@unrevealed_badges.first[:rarity]}" }
          .text You've earned a new badge!
          = graphical_icon("chevron-right", css_class: "action-icon")

      - else
        .unrevealed-badges
          .content
            .text You've earned new badges!
            .medallions
              - @unrevealed_badges.each do |badge|
                .c-badge-medallion{ class: "--#{badge[:rarity]}" }
          = graphical_icon("chevron-right", css_class: "action-icon")


    - @notifications.each do |notification|
      = link_to notification[:url], class: "notification" do
        - if notification[:image_type] == :avatar
          = rounded_bg_img(notification[:image_url], nil)
        - else
          /* Use a GraphicalImage helper for this */
          = image_tag(notification[:image_url], role: :presentation, class: "icon")
        .content
          .text= raw notification[:text]
          .created-at= time_ago_in_words(notification[:created_at])
        - if notification[:read]
          .read
        - else
          .unread
        = graphical_icon("chevron-right", css_class: "action-icon")

